$(document).ready(function () {
	
    var length = $('#all-output').height() - $('#sidebar-stick').height() + $('#all-output').offset().top;
    var width_sidebar = $('div.left-sidebar').width();
    // alert(width_sidebar);
    $(window).scroll(function () {
        var scroll = $(this).scrollTop();
        var height = $('#sidebar-stick').height() + 'px';
        // alert(length)

        if (scroll < $('#all-output').offset().top) {

            $('#sidebar-stick').css({
                'position': 'absolute',
                'top': '0',
                'width': width_sidebar+'px'
            });

        } else if (scroll > length) {

            $('#sidebar-stick').css({
                'position': 'absolute',
                'bottom': '0',
                'top': 'auto',
                'width': width_sidebar + 'px'
            });

        } else {
            $('#sidebar-stick').css({
                'position': 'fixed',
                'top': '0',
                'width': width_sidebar + 'px'
            });
        }
    });
});
